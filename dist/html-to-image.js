!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toBlob=exports.toJpeg=exports.toPng=exports.toPixelData=exports.toCanvas=exports.toSvgDataURL=exports.toSvg=void 0;var t=require("tslib"),e=require("./cloneNode"),n=require("./embedImages"),r=require("./embedWebFonts"),i=require("./createSvgDataURL"),o=require("./applyStyleWithOptions"),a=require("./util");function u(t,e){return void 0===e&&(e={}),{width:e.width||a.getNodeWidth(t),height:e.height||a.getNodeHeight(t)}}function d(a,d){return void 0===d&&(d={}),t.__awaiter(this,void 0,void 0,(function(){var h,c,s;return t.__generator(this,(function(t){return h=u(a,d),c=h.width,s=h.height,[2,e.cloneNode(a,d.filter,!0).then((function(t){return r.embedWebFonts(t,d)})).then((function(t){return n.embedImages(t,d)})).then((function(t){return o.applyStyleWithOptions(t,d)})).then((function(t){return i.createSvgDataURL(t,c,s)}))]}))}))}function h(e,n){return void 0===n&&(n={}),t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,d(e,n).then(a.createImage).then(a.delay(100)).then((function(t){var r=document.createElement("canvas"),i=r.getContext("2d"),o=n.pixelRatio||a.getPixelRatio(),d=u(e,n),h=d.width,c=d.height;return r.width=h*o,r.height=c*o,r.style.width=""+h,r.style.height=""+c,i.scale(o,o),n.backgroundColor&&(i.fillStyle=n.backgroundColor,i.fillRect(0,0,r.width,r.height)),i.drawImage(t,0,0),r}))]}))}))}exports.toSvg=d,exports.toSvgDataURL=d,exports.toCanvas=h,exports.toPixelData=function(e,n){return void 0===n&&(n={}),t.__awaiter(this,void 0,void 0,(function(){var r,i,o;return t.__generator(this,(function(t){return r=u(e,n),i=r.width,o=r.height,[2,h(e,n).then((function(t){return t.getContext("2d").getImageData(0,0,i,o).data}))]}))}))},exports.toPng=function(e,n){return void 0===n&&(n={}),t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,h(e,n).then((function(t){return t.toDataURL()}))]}))}))},exports.toJpeg=function(e,n){return void 0===n&&(n={}),t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,h(e,n).then((function(t){return t.toDataURL("image/jpeg",n.quality||1)}))]}))}))},exports.toBlob=function(e,n){return void 0===n&&(n={}),t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return[2,h(e,n).then(a.canvasToBlob)]}))}))}}));
//# sourceMappingURL=html-to-image.js.map
